# secure_drop

A secure peer-to-peer file transfer program.

> [!WARNING]
> Although secure_drop is definitely security-oriented, it may not be perfectly secure - use at your own risk!

## Setup

This project was tested using Python 3.9.7+.

To install all required modules to use secure_drop, run the following:

`pip3 install -r requirements.txt`

The use of a virtual environment is strongly suggested, since more up-to-date cryptography modules could cause issues at the OS level, especially on Linux environments.

## Running

To run secure_drop, run the main Python file:

`python3 secure_drop.py`

On the first session of secure_drop, user registration will take place. On subsequent runs of secure_drop, (as long as the users.json file is present) a user will be able to log into the program with the credentials they registered with.

## Functionality

Once signed in, a secure_drop shell will start. The following commands are available:

- `help` - Display all commands
- `add` - Add a new contact
- `list` - List all online contacts
- `send` - Transfer file to a contact
- `exit` - Exit secure_drop

Adding a contact will require a contact name (or nickname, which can be overwritten) and an email.

Listing online contacts will only display 1. contacts that are in the current user's list of contacts, 2. currently online and running the secure_drop shell, and 3. have the user also added as one of their own contacts.

Sending a file requires a contact email and file path, which points to a valid file to securely transfer to the contact. When sending a file to a valid contact, a notification will appear in the recipient's shell asking them to approve the transfer. This notification will stay valid for 10 seconds. If approved, the file will be sent to the contact, and if denied, the file transfer will not take place. All successfully transferred files will save to a folder named `files/` on the recipient's machine.

## CA

One common set of CA credentials (ca.cert and ca.key) should be present and identical on all machines on a network for file transfers to work properly.

If the CA's certificate expires, you can re-generate a new set of CA credentials that will expire after 30 days:

`python3 ca.py`

Just remember to use the same CA credentials on all machines.

## Resetting

If you would like to clear your list of contacts, delete the `contacts` file that is generated by secure_drop.

If you would like to remove the saved account from your system, delete the `users.json` file that is generated by secure_drop.
